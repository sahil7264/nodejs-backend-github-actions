name : Deploy NodeJS Application to Hostinger

on :
  push :
    branches :
      - main

jobs : 
  deploy: 
    runs-on : ubuntu-latest

    steps :
      - name : Checkout Repository
        uses : actions/checkout@v3

      - name : Deploy via SSH
        uses : appleboy/ssh-action@v1.0.3
        with : 
          host: 31.97.206.6
          username: root 
          key : ${{ secrets.SSH_PRIVATE_KEY }}
          script : |
            cd  root/nodejs-backend-github-actions
            git pull 
            docker compose up -d --build
